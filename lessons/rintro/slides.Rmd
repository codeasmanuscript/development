---
title: "Introduction to R"
author: Sarah Meister
date: 2015-11-02
layout: page
sidebar: false
classoption: xcolor=dvipsnames
tag:
    - Lessons
    - Slides
    - IntroR
categories:
    - Lessons
    - IntroR
slide-level: 1
fontsize: 8pt
header-includes:
    - \input{../slideOptions.tex}
---
    
# Welcome to our R introduction workshop #

## Purpose: ##

To introduce you to the R language and common data manipulations used in R

## Significance: ##

Topics we cover will help you get more comfortable with R

Need help with R? Use these resources!

* U of T Statistical Consulting Services ([click here](http://www.utstat.toronto.edu/wordpress/?page_id=25))

* <http://www.stackoverflow.com>

* <http://stats.stackexchange.com>

R is an object-oriented programing language, meaning everything we encounter in R is an object. 

R has several types of objects:

R has a 5 basic classes of objects:

* Character
* Numeric
* Integer
* Complex
* Logical

R has 5 different types of objects:

* Vectors
* Lists
* Matrices
* Factors
* Dataframes

Thus you could have a logical vector, a character dataframe, a numeric matrix, etc. 

# Vectors #

The most basic object is a vector. A vector is a sequence of objects of the same class. We can make vectors using the `c()` function.

```{r , collapse=TRUE}
a <- c(0.4, 1.2)         # numeric
b <- c(TRUE, FALSE)      # logical
c <- c("a","b","c")      # character
d <- c(1L, 2L)           # integer
e <- 1:10                # integer
f <- c(1+0i, 2+4i)       # complex
```

Empty vectors can be made using the `vector()` function

```{r , collapse=TRUE}
(x <- vector("numeric", length=10))
```

# Lists #

A list is a special type of vector that can contain objects of different classes. For instance, we can have a list with a numeric dataframe as one object within the list, and a string vector as another. 

```{r , collapse=TRUE}
(x <- list(1,"a", TRUE, 1+4i))
```

The elements of a list are seperated by double brackets. 
 
# Matrices #

Matrices are vectors with a dimension attribute. The dim attribute is an integer vector of length = 2 (nrow, ncol). Matrix multiplication is done with the %*% operator

```{r , collapse=TRUE}
(x <- matrix(1:6, nrow=2, ncol=3))

dim(x)

attributes(x)
```
 
Matrices are constructed column-wise, so entries start at the upper left corner and run down the columns. 

Matrices can be created directly from vectors by adding a dimension value

```{r, collapse=TRUE}
(x <- 1:10)

(dim(x) <- c(2,5))

```

We can also create matrices by column-binding or row-binding with the functions `cbind()` and `rbind()`

```{r, collapse=TRUE}
x <- 1:3
y <- 10:12
cbind(x,y)
rbind (x, y)
```

# Factors #

Factors are used to represent catagorical data. They can be ordered or unordered.

* They are like an integer vector where each integer has a label. 
* Factors are more descriptive than integers e.g. "Male" and "Female" vs. 1 and 2
* Factors are treated specially by modelling functions like `lm()` and `glm()`

```{r, collapse=TRUE}
(x <- factor(c("yes", "yes", "no", "no", "yes")))
table (x)
unclass(x)
```

# Dataframe #

Dataframes are used in R to store tabular data. They are represented in R as a special type of list where every element in the list has the same length. Each element of the list can be thought of as a **column** and each length of the list can be thought of as a **row**. Because a dataframe is a type of list, dataframes can store different classes of objects in each column (e.g. numeric, character, logical, etc.).

Depending on the source of the data, dataframes can be made using the `read.table()`, `read.csv` or `data.frame()` functions. 

```{r, collapse=TRUE}
(x <- data.frame(foo = 1:4, bar = c(T,T,F,F)))

nrow(x)
ncol(x)
```


# Attributes #

R objects can have attributes, such as:

* names
* classes
* lengths
* dimensions (matrices/dataframes)
* user defined attributes, such as metadata
* dataframes have a special attribute called `row.names`

Attributes can be modified with the `attributes()` function, among others.

For example, modifiying the `names` of a vector can make your code more readable.
```{r, collapse=TRUE}
x <- 1:3
names(x)

names(x) <- c("alpha", "beta", "gamma")

x
names(x)
```

# Now let's code! #

Download the airQuality.csv file from our [Github repo](https://github.com/codeasmanuscript/workshops/tree/master/lessons/rintro)


```{r, collapse=TRUE}
charvec = c("David","James","Sara","Tim","Pierre",
        "Janice","Sara","Priya","Keith","Mark",
        "Apple","Sara")
gender = c("M","M","F","M","M","M","F","F","F","M","M","F")
state = c("CO","KS","CA","IA","MO","FL","CA","CO","FL","CA","WY","AZ")

subset(numvec, numvec > 7)
subset(numvec, numvec < 9 & numvec > 4)
subset(numvec, numvec < 3 |numvec > 9)

df = data.frame(var1=c(numvec), var2=c(charvec),
          gender=c(gender), state=c(state))

subset(df, var1 < 5)
subset(df, var2 == "Sara")
subset(df, var1==5, select=c(var2, state))
subset(df, var2 != "Sara" & gender == "F" & var1 > 5)
```