<!DOCTYPE html>

<html xmlns="http://www.w3.org/1999/xhtml">

<head>

<meta charset="utf-8">
<meta http-equiv="Content-Type" content="text/html; charset=utf-8" />
<meta name="generator" content="pandoc" />

<meta name="author" content="Sarah Meister" />

<meta name="date" content="2015-11-02" />

<title>Introduction to R</title>



<style type="text/css">code{white-space: pre;}</style>
<style type="text/css">
table.sourceCode, tr.sourceCode, td.lineNumbers, td.sourceCode {
  margin: 0; padding: 0; vertical-align: baseline; border: none; }
table.sourceCode { width: 100%; line-height: 100%; }
td.lineNumbers { text-align: right; padding-right: 4px; padding-left: 4px; color: #aaaaaa; border-right: 1px solid #aaaaaa; }
td.sourceCode { padding-left: 5px; }
code > span.kw { color: #007020; font-weight: bold; }
code > span.dt { color: #902000; }
code > span.dv { color: #40a070; }
code > span.bn { color: #40a070; }
code > span.fl { color: #40a070; }
code > span.ch { color: #4070a0; }
code > span.st { color: #4070a0; }
code > span.co { color: #60a0b0; font-style: italic; }
code > span.ot { color: #007020; }
code > span.al { color: #ff0000; font-weight: bold; }
code > span.fu { color: #06287e; }
code > span.er { color: #ff0000; font-weight: bold; }
</style>
<style type="text/css">
  pre:not([class]) {
    background-color: white;
  }
</style>


<link href="data:text/css,body%20%7B%0A%20%20background%2Dcolor%3A%20%23fff%3B%0A%20%20margin%3A%201em%20auto%3B%0A%20%20max%2Dwidth%3A%20700px%3B%0A%20%20overflow%3A%20visible%3B%0A%20%20padding%2Dleft%3A%202em%3B%0A%20%20padding%2Dright%3A%202em%3B%0A%20%20font%2Dfamily%3A%20%22Open%20Sans%22%2C%20%22Helvetica%20Neue%22%2C%20Helvetica%2C%20Arial%2C%20sans%2Dserif%3B%0A%20%20font%2Dsize%3A%2014px%3B%0A%20%20line%2Dheight%3A%201%2E35%3B%0A%7D%0A%0A%23header%20%7B%0A%20%20text%2Dalign%3A%20center%3B%0A%7D%0A%0A%23TOC%20%7B%0A%20%20clear%3A%20both%3B%0A%20%20margin%3A%200%200%2010px%2010px%3B%0A%20%20padding%3A%204px%3B%0A%20%20width%3A%20400px%3B%0A%20%20border%3A%201px%20solid%20%23CCCCCC%3B%0A%20%20border%2Dradius%3A%205px%3B%0A%0A%20%20background%2Dcolor%3A%20%23f6f6f6%3B%0A%20%20font%2Dsize%3A%2013px%3B%0A%20%20line%2Dheight%3A%201%2E3%3B%0A%7D%0A%20%20%23TOC%20%2Etoctitle%20%7B%0A%20%20%20%20font%2Dweight%3A%20bold%3B%0A%20%20%20%20font%2Dsize%3A%2015px%3B%0A%20%20%20%20margin%2Dleft%3A%205px%3B%0A%20%20%7D%0A%0A%20%20%23TOC%20ul%20%7B%0A%20%20%20%20padding%2Dleft%3A%2040px%3B%0A%20%20%20%20margin%2Dleft%3A%20%2D1%2E5em%3B%0A%20%20%20%20margin%2Dtop%3A%205px%3B%0A%20%20%20%20margin%2Dbottom%3A%205px%3B%0A%20%20%7D%0A%20%20%23TOC%20ul%20ul%20%7B%0A%20%20%20%20margin%2Dleft%3A%20%2D2em%3B%0A%20%20%7D%0A%20%20%23TOC%20li%20%7B%0A%20%20%20%20line%2Dheight%3A%2016px%3B%0A%20%20%7D%0A%0Atable%20%7B%0A%20%20margin%3A%201em%20auto%3B%0A%20%20border%2Dwidth%3A%201px%3B%0A%20%20border%2Dcolor%3A%20%23DDDDDD%3B%0A%20%20border%2Dstyle%3A%20outset%3B%0A%20%20border%2Dcollapse%3A%20collapse%3B%0A%7D%0Atable%20th%20%7B%0A%20%20border%2Dwidth%3A%202px%3B%0A%20%20padding%3A%205px%3B%0A%20%20border%2Dstyle%3A%20inset%3B%0A%7D%0Atable%20td%20%7B%0A%20%20border%2Dwidth%3A%201px%3B%0A%20%20border%2Dstyle%3A%20inset%3B%0A%20%20line%2Dheight%3A%2018px%3B%0A%20%20padding%3A%205px%205px%3B%0A%7D%0Atable%2C%20table%20th%2C%20table%20td%20%7B%0A%20%20border%2Dleft%2Dstyle%3A%20none%3B%0A%20%20border%2Dright%2Dstyle%3A%20none%3B%0A%7D%0Atable%20thead%2C%20table%20tr%2Eeven%20%7B%0A%20%20background%2Dcolor%3A%20%23f7f7f7%3B%0A%7D%0A%0Ap%20%7B%0A%20%20margin%3A%200%2E5em%200%3B%0A%7D%0A%0Ablockquote%20%7B%0A%20%20background%2Dcolor%3A%20%23f6f6f6%3B%0A%20%20padding%3A%200%2E25em%200%2E75em%3B%0A%7D%0A%0Ahr%20%7B%0A%20%20border%2Dstyle%3A%20solid%3B%0A%20%20border%3A%20none%3B%0A%20%20border%2Dtop%3A%201px%20solid%20%23777%3B%0A%20%20margin%3A%2028px%200%3B%0A%7D%0A%0Adl%20%7B%0A%20%20margin%2Dleft%3A%200%3B%0A%7D%0A%20%20dl%20dd%20%7B%0A%20%20%20%20margin%2Dbottom%3A%2013px%3B%0A%20%20%20%20margin%2Dleft%3A%2013px%3B%0A%20%20%7D%0A%20%20dl%20dt%20%7B%0A%20%20%20%20font%2Dweight%3A%20bold%3B%0A%20%20%7D%0A%0Aul%20%7B%0A%20%20margin%2Dtop%3A%200%3B%0A%7D%0A%20%20ul%20li%20%7B%0A%20%20%20%20list%2Dstyle%3A%20circle%20outside%3B%0A%20%20%7D%0A%20%20ul%20ul%20%7B%0A%20%20%20%20margin%2Dbottom%3A%200%3B%0A%20%20%7D%0A%0Apre%2C%20code%20%7B%0A%20%20background%2Dcolor%3A%20%23f7f7f7%3B%0A%20%20border%2Dradius%3A%203px%3B%0A%20%20color%3A%20%23333%3B%0A%7D%0Apre%20%7B%0A%20%20white%2Dspace%3A%20pre%2Dwrap%3B%20%20%20%20%2F%2A%20Wrap%20long%20lines%20%2A%2F%0A%20%20border%2Dradius%3A%203px%3B%0A%20%20margin%3A%205px%200px%2010px%200px%3B%0A%20%20padding%3A%2010px%3B%0A%7D%0Apre%3Anot%28%5Bclass%5D%29%20%7B%0A%20%20background%2Dcolor%3A%20%23f7f7f7%3B%0A%7D%0A%0Acode%20%7B%0A%20%20font%2Dfamily%3A%20Consolas%2C%20Monaco%2C%20%27Courier%20New%27%2C%20monospace%3B%0A%20%20font%2Dsize%3A%2085%25%3B%0A%7D%0Ap%20%3E%20code%2C%20li%20%3E%20code%20%7B%0A%20%20padding%3A%202px%200px%3B%0A%7D%0A%0Adiv%2Efigure%20%7B%0A%20%20text%2Dalign%3A%20center%3B%0A%7D%0Aimg%20%7B%0A%20%20background%2Dcolor%3A%20%23FFFFFF%3B%0A%20%20padding%3A%202px%3B%0A%20%20border%3A%201px%20solid%20%23DDDDDD%3B%0A%20%20border%2Dradius%3A%203px%3B%0A%20%20border%3A%201px%20solid%20%23CCCCCC%3B%0A%20%20margin%3A%200%205px%3B%0A%7D%0A%0Ah1%20%7B%0A%20%20margin%2Dtop%3A%200%3B%0A%20%20font%2Dsize%3A%2035px%3B%0A%20%20line%2Dheight%3A%2040px%3B%0A%7D%0A%0Ah2%20%7B%0A%20%20border%2Dbottom%3A%204px%20solid%20%23f7f7f7%3B%0A%20%20padding%2Dtop%3A%2010px%3B%0A%20%20padding%2Dbottom%3A%202px%3B%0A%20%20font%2Dsize%3A%20145%25%3B%0A%7D%0A%0Ah3%20%7B%0A%20%20border%2Dbottom%3A%202px%20solid%20%23f7f7f7%3B%0A%20%20padding%2Dtop%3A%2010px%3B%0A%20%20font%2Dsize%3A%20120%25%3B%0A%7D%0A%0Ah4%20%7B%0A%20%20border%2Dbottom%3A%201px%20solid%20%23f7f7f7%3B%0A%20%20margin%2Dleft%3A%208px%3B%0A%20%20font%2Dsize%3A%20105%25%3B%0A%7D%0A%0Ah5%2C%20h6%20%7B%0A%20%20border%2Dbottom%3A%201px%20solid%20%23ccc%3B%0A%20%20font%2Dsize%3A%20105%25%3B%0A%7D%0A%0Aa%20%7B%0A%20%20color%3A%20%230033dd%3B%0A%20%20text%2Ddecoration%3A%20none%3B%0A%7D%0A%20%20a%3Ahover%20%7B%0A%20%20%20%20color%3A%20%236666ff%3B%20%7D%0A%20%20a%3Avisited%20%7B%0A%20%20%20%20color%3A%20%23800080%3B%20%7D%0A%20%20a%3Avisited%3Ahover%20%7B%0A%20%20%20%20color%3A%20%23BB00BB%3B%20%7D%0A%20%20a%5Bhref%5E%3D%22http%3A%22%5D%20%7B%0A%20%20%20%20text%2Ddecoration%3A%20underline%3B%20%7D%0A%20%20a%5Bhref%5E%3D%22https%3A%22%5D%20%7B%0A%20%20%20%20text%2Ddecoration%3A%20underline%3B%20%7D%0A%0A%2F%2A%20Class%20described%20in%20https%3A%2F%2Fbenjeffrey%2Ecom%2Fposts%2Fpandoc%2Dsyntax%2Dhighlighting%2Dcss%0A%20%20%20Colours%20from%20https%3A%2F%2Fgist%2Egithub%2Ecom%2Frobsimmons%2F1172277%20%2A%2F%0A%0Acode%20%3E%20span%2Ekw%20%7B%20color%3A%20%23555%3B%20font%2Dweight%3A%20bold%3B%20%7D%20%2F%2A%20Keyword%20%2A%2F%0Acode%20%3E%20span%2Edt%20%7B%20color%3A%20%23902000%3B%20%7D%20%2F%2A%20DataType%20%2A%2F%0Acode%20%3E%20span%2Edv%20%7B%20color%3A%20%2340a070%3B%20%7D%20%2F%2A%20DecVal%20%28decimal%20values%29%20%2A%2F%0Acode%20%3E%20span%2Ebn%20%7B%20color%3A%20%23d14%3B%20%7D%20%2F%2A%20BaseN%20%2A%2F%0Acode%20%3E%20span%2Efl%20%7B%20color%3A%20%23d14%3B%20%7D%20%2F%2A%20Float%20%2A%2F%0Acode%20%3E%20span%2Ech%20%7B%20color%3A%20%23d14%3B%20%7D%20%2F%2A%20Char%20%2A%2F%0Acode%20%3E%20span%2Est%20%7B%20color%3A%20%23d14%3B%20%7D%20%2F%2A%20String%20%2A%2F%0Acode%20%3E%20span%2Eco%20%7B%20color%3A%20%23888888%3B%20font%2Dstyle%3A%20italic%3B%20%7D%20%2F%2A%20Comment%20%2A%2F%0Acode%20%3E%20span%2Eot%20%7B%20color%3A%20%23007020%3B%20%7D%20%2F%2A%20OtherToken%20%2A%2F%0Acode%20%3E%20span%2Eal%20%7B%20color%3A%20%23ff0000%3B%20font%2Dweight%3A%20bold%3B%20%7D%20%2F%2A%20AlertToken%20%2A%2F%0Acode%20%3E%20span%2Efu%20%7B%20color%3A%20%23900%3B%20font%2Dweight%3A%20bold%3B%20%7D%20%2F%2A%20Function%20calls%20%2A%2F%20%0Acode%20%3E%20span%2Eer%20%7B%20color%3A%20%23a61717%3B%20background%2Dcolor%3A%20%23e3d2d2%3B%20%7D%20%2F%2A%20ErrorTok%20%2A%2F%0A%0A" rel="stylesheet" type="text/css" />

</head>

<body>



<div id="header">
<h1 class="title">Introduction to R</h1>
<h4 class="author"><em>Sarah Meister</em></h4>
<h4 class="date"><em>2015-11-02</em></h4>
</div>


<div id="starting-r" class="section level1">
<h1>Starting R</h1>
<p>We will be using R studio for this course as it’s a user-friendly GUI for R. You can also access R from Terminal (Mac) or Command Line (Windows) if you please.</p>
<pre class="sourceCode r"><code class="sourceCode r"><span class="kw">getwd</span>()

<span class="kw">setwd</span>(<span class="st">&quot;/Users/thesarahmeister/&quot;</span>)

<span class="kw">dir.create</span>(<span class="st">&quot;Desktop/practice-2015-10/sarah/intror&quot;</span>)

<span class="kw">setwd</span>(<span class="st">&quot;Desktop/practice-2015-10/sarah/intror&quot;</span>)

<span class="kw">dir</span>()</code></pre>
</div>
<div id="now-lets-code" class="section level1">
<h1>Now let’s code!</h1>
<p>Download the <code>airQuality.csv</code> file from our <a href="https://github.com/codeasmanuscript/practice-2015-10">Github repo</a> and import it into R using the <code>read.csv</code> function</p>
<pre class="sourceCode r"><code class="sourceCode r">airQuality &lt;-<span class="st"> </span><span class="kw">read.csv</span>(<span class="st">&quot;airQuality.csv&quot;</span>, <span class="dt">header =</span> <span class="ot">TRUE</span>)</code></pre>
<p>Now let’s look at the data using a few different functions</p>
<pre class="sourceCode r"><code class="sourceCode r"><span class="kw">head</span>(airQuality)
##   Ozone Solar.R Wind Temp Month Day
## 1    41     190  7.4   67   May   1
## 2    36     118  8.0   72   May   2
## 3    12     149 12.6   74   May   3
## 4    18     313 11.5   62   May   4
## 5    NA      NA 14.3   56   May   5
## 6    28      NA 14.9   66   May   6

<span class="kw">head</span>(airQuality, <span class="dt">n=</span><span class="dv">8</span>)
##   Ozone Solar.R Wind Temp Month Day
## 1    41     190  7.4   67   May   1
## 2    36     118  8.0   72   May   2
## 3    12     149 12.6   74   May   3
## 4    18     313 11.5   62   May   4
## 5    NA      NA 14.3   56   May   5
## 6    28      NA 14.9   66   May   6
## 7    23     299  8.6   65   May   7
## 8    19      99 13.8   59   May   8

<span class="kw">tail</span>(airQuality)
##     Ozone Solar.R Wind Temp Month Day
## 148    14      20 16.6   63   Sep  25
## 149    30     193  6.9   70   Sep  26
## 150    NA     145 13.2   77   Sep  27
## 151    14     191 14.3   75   Sep  28
## 152    18     131  8.0   76   Sep  29
## 153    20     223 11.5   68   Sep  30

<span class="kw">str</span>(airQuality)
## 'data.frame':    153 obs. of  6 variables:
##  $ Ozone  : int  41 36 12 18 NA 28 23 19 8 NA ...
##  $ Solar.R: int  190 118 149 313 NA NA 299 99 19 194 ...
##  $ Wind   : num  7.4 8 12.6 11.5 14.3 14.9 8.6 13.8 20.1 8.6 ...
##  $ Temp   : int  67 72 74 62 56 66 65 59 61 69 ...
##  $ Month  : Factor w/ 5 levels &quot;Aug&quot;,&quot;Jul&quot;,&quot;Jun&quot;,..: 4 4 4 4 4 4 4 4 4 4 ...
##  $ Day    : int  1 2 3 4 5 6 7 8 9 10 ...

<span class="kw">summary</span>(airQuality)
##      Ozone           Solar.R           Wind             Temp      
##  Min.   :  1.00   Min.   :  7.0   Min.   : 1.700   Min.   :56.00  
##  1st Qu.: 18.00   1st Qu.:115.8   1st Qu.: 7.400   1st Qu.:72.00  
##  Median : 31.50   Median :205.0   Median : 9.700   Median :79.00  
##  Mean   : 42.13   Mean   :185.9   Mean   : 9.958   Mean   :77.88  
##  3rd Qu.: 63.25   3rd Qu.:258.8   3rd Qu.:11.500   3rd Qu.:85.00  
##  Max.   :168.00   Max.   :334.0   Max.   :20.700   Max.   :97.00  
##  NA's   :37       NA's   :7                                       
##  Month         Day      
##  Aug:31   Min.   : 1.0  
##  Jul:31   1st Qu.: 8.0  
##  Jun:30   Median :16.0  
##  May:31   Mean   :15.8  
##  Sep:30   3rd Qu.:23.0  
##           Max.   :31.0  
## 

<span class="kw">nrow</span>(airQuality)
## [1] 153

<span class="kw">ncol</span>(airQuality)
## [1] 6

<span class="kw">range</span>(airQuality$Temp)
## [1] 56 97</code></pre>
<p>Lets alter our dataset a bit</p>
<pre class="sourceCode r"><code class="sourceCode r">
<span class="kw">names</span>(airQuality$Solar.R) &lt;-<span class="st"> &quot;Solar&quot;</span>

airQuality$Random &lt;-<span class="st"> </span><span class="kw">rnorm</span>(<span class="dv">153</span>, <span class="dv">1</span>, <span class="dv">2</span>)</code></pre>
<p>Okay time to subset our data</p>
<pre class="sourceCode r"><code class="sourceCode r">
rowThree &lt;-<span class="st"> </span>airQuality[<span class="dv">3</span>, ]

colFour &lt;-<span class="st"> </span>airQuality[ ,<span class="dv">4</span>]

ozone &lt;-<span class="st"> </span>airQuality$Ozone

highTemp &lt;-<span class="st"> </span>airQuality[airQuality$Temp &gt;<span class="st"> </span><span class="dv">80</span>, ]

may &lt;-<span class="st"> </span>airQuality[airQuality$Month ==<span class="st"> &quot;May&quot;</span>, ]

highTempOrMay &lt;-<span class="st"> </span>airQuality[airQuality$Month ==<span class="st"> &quot;May&quot;</span> |<span class="st"> </span>airQuality$Temp &gt;<span class="st"> </span><span class="dv">80</span>, ]

lowTempAndSep &lt;-<span class="st"> </span><span class="kw">subset</span>(airQuality, airQuality$Month ==<span class="st"> &quot;Sep&quot;</span> &amp;<span class="st"> </span>airQuality$Temp &lt;<span class="st"> </span><span class="dv">70</span>)</code></pre>
<p>okay let’s perform some basic data manipulations on our dataframe and subsetted data</p>
<pre class="sourceCode r"><code class="sourceCode r">
<span class="kw">mean</span>(airQuality$Ozone) <span class="co">#returns an NA</span>

<span class="kw">mean</span>(airQuality$Ozone, <span class="dt">na.rm=</span><span class="ot">TRUE</span>)

<span class="kw">colMeans</span>(airQuality, <span class="dt">na.rm=</span><span class="ot">TRUE</span>) <span class="co">#this one doesn't work</span>

airQualNoMonth &lt;-<span class="st"> </span>airQuality[,-<span class="dv">5</span>]

<span class="kw">colMeans</span>(airQualNoMonth, <span class="dt">na.rm=</span><span class="ot">TRUE</span>)

<span class="kw">sd</span>(colFour)

<span class="kw">sd</span>(airQualNoMonth)</code></pre>
<p>What happens if we have multiple columns that are non-numeric and we don’t want to remove them all to use the built-in <code>colMeans()</code> function? We can make our <strong>own</strong> function!</p>
<pre class="sourceCode r"><code class="sourceCode r">columnmean &lt;-<span class="st"> </span>function (y, <span class="dt">remove.NA =</span> <span class="ot">TRUE</span>) {
  nc &lt;-<span class="st"> </span><span class="kw">ncol</span>(y)
  means &lt;-<span class="st"> </span><span class="kw">vector</span>(<span class="st">&quot;numeric&quot;</span>, <span class="dt">length=</span><span class="dv">0</span>)
  for (i in <span class="dv">1</span>:nc) {
    means[i] &lt;-<span class="st"> </span><span class="kw">mean</span>(y[,i], <span class="dt">na.rm =</span> remove.NA)
  }
  means
}

<span class="kw">columnmean</span>(airQuality)
## Warning in mean.default(y[, i], na.rm = remove.NA): argument is not numeric
## or logical: returning NA
## [1]  42.1293103 185.9315068   9.9575163  77.8823529          NA  15.8039216
## [7]   0.7370057</code></pre>
<p>Cool right? Now let’s try a function with an if/else expression.</p>
<pre class="sourceCode r"><code class="sourceCode r">
above80 &lt;-<span class="st"> </span>function(y) {
    y &lt;-<span class="st"> </span><span class="kw">na.omit</span>(y)
    nob &lt;-<span class="st"> </span><span class="kw">length</span>(y)
    high &lt;-<span class="st"> </span><span class="kw">vector</span>(<span class="st">&quot;numeric&quot;</span>, <span class="dt">length=</span><span class="dv">0</span>)
    low &lt;-<span class="st"> </span><span class="kw">vector</span>(<span class="st">&quot;numeric&quot;</span>, <span class="dt">length=</span><span class="dv">0</span>)
  for (i in <span class="dv">1</span>:nob) {
    if (y[i] &gt;<span class="st"> </span><span class="dv">80</span>) {
      high &lt;-<span class="st"> </span><span class="kw">append</span>(high, y[i])
    }
    else {
      low &lt;-<span class="st"> </span><span class="kw">append</span>(low, y[i])
    }
  }
  <span class="kw">list</span>(high,low)
}

<span class="kw">above80</span>(airQuality$Temp)
## [[1]]
##  [1] 81 84 85 82 87 90 87 93 92 82 83 84 85 81 84 83 83 88 92 92 89 82 81
## [24] 91 81 82 84 87 85 81 82 86 85 82 86 88 86 83 81 81 81 82 86 85 87 89
## [47] 90 90 92 86 86 82 81 86 88 97 94 96 94 91 92 93 93 87 84 81 82 81
## 
## [[2]]
##  [1] 67 72 74 62 56 66 65 59 61 69 74 69 66 68 58 64 66 57 68 62 59 73 61
## [24] 61 57 58 57 67 79 76 78 74 67 79 80 79 77 72 65 73 76 77 76 76 76 75
## [47] 78 73 80 77 73 80 74 80 79 77 79 76 78 78 77 72 75 79 80 78 75 73 76
## [70] 77 71 71 78 67 76 68 64 71 69 63 70 77 75 76 68

highlow &lt;-<span class="st"> </span><span class="kw">above80</span>(airQuality$Temp)

high &lt;-<span class="st"> </span>highlow[[<span class="dv">1</span>]]

low &lt;-<span class="st"> </span>highlow[[<span class="dv">2</span>]]</code></pre>
</div>
<div id="loop-functions" class="section level1">
<h1>Loop Functions</h1>
<p>The last thing for today are the very useful built-in loop functions. These functions have the word <code>apply</code> in them.</p>
<ul>
<li><code>lapply</code>: loop over a list and evaluate a function on each element</li>
<li><code>sapply</code>: same as <code>lapply</code> but it tries to simplify the result</li>
<li><code>apply</code>: apply a function over the margins of an array</li>
<li><code>tapply</code>: apply a function over subsets of a vector (<code>lapply()</code> used with <code>split()</code> does the same thing)</li>
<li><code>mapply</code>: a multivariate version of <code>lapply</code></li>
</ul>
</div>
<div id="lapply" class="section level1">
<h1>lapply()</h1>
<p>Remember the function we made? It can be replaced with an <code>lapply()</code> loop.</p>
<pre class="sourceCode r"><code class="sourceCode r"><span class="kw">lapply</span>(airQuality, mean, <span class="dt">na.rm =</span> <span class="ot">TRUE</span>)
## Warning in mean.default(X[[i]], ...): argument is not numeric or logical:
## returning NA
## $Ozone
## [1] 42.12931
## 
## $Solar.R
## [1] 185.9315
## 
## $Wind
## [1] 9.957516
## 
## $Temp
## [1] 77.88235
## 
## $Month
## [1] NA
## 
## $Day
## [1] 15.80392
## 
## $Random
## [1] 0.7370057</code></pre>
</div>
<div id="sapply" class="section level1">
<h1>sapply()</h1>
<p>Alternatively we can try <code>sapply()</code>. This will return a named numeric vector (simpified from a list)</p>
<pre class="sourceCode r"><code class="sourceCode r"><span class="kw">sapply</span>(airQuality, mean, <span class="dt">na.rm =</span> <span class="ot">TRUE</span>)
## Warning in mean.default(X[[i]], ...): argument is not numeric or logical:
## returning NA
##       Ozone     Solar.R        Wind        Temp       Month         Day 
##  42.1293103 185.9315068   9.9575163  77.8823529          NA  15.8039216 
##      Random 
##   0.7370057</code></pre>
</div>
<div id="apply" class="section level1">
<h1>apply()</h1>
<p><code>apply()</code> first coerces your dataframe to an array which means all the columns must have the same type. Because our dataframe does not meet this requirement, I’ll be taking a subset of the data. However normally this function would be used with matrices.</p>
<pre class="sourceCode r"><code class="sourceCode r"><span class="kw">apply</span>(airQuality[,<span class="kw">c</span>(-<span class="dv">5</span>)], <span class="dv">2</span>, sd, <span class="dt">na.rm =</span> <span class="ot">TRUE</span>)
##     Ozone   Solar.R      Wind      Temp       Day    Random 
## 32.987885 90.058422  3.523001  9.465270  8.864520  2.082776

<span class="kw">apply</span>(airQuality[,<span class="kw">c</span>(-<span class="dv">5</span>)], <span class="dv">1</span>, sd, <span class="dt">na.rm =</span> <span class="ot">TRUE</span>)
##   [1]  72.98112  46.74447  59.23062 121.82299  26.30126  26.31624 116.06065
##   [8]  38.20938  21.21693  81.76040  30.52297  99.02787 112.66434 105.96504
##  [15]  26.18826 129.60548 116.88219  30.46698 122.80112  23.02280  21.61838
##  [22] 122.95652  21.82330  34.20422  28.28427 109.34204  24.17973  23.15585
##  [29]  93.22397  84.36718 104.86632 122.06846 123.05734 102.27896  80.63181
##  [36]  94.08325 111.65031  50.96859 116.31008 109.89017 123.69254 108.95930
##  [43] 105.74384  58.67120 139.98390 135.87638  72.69826 106.20356  23.63252
##  [50]  47.01847  52.81579  62.70673  33.83470  42.51661 104.06633  55.76183
##  [57]  53.03049  28.76410  43.44067  28.91781  57.32063 106.19541  95.59658
##  [64]  90.92316  48.76932  68.20023 120.47493 105.40607 102.51155 103.71508
##  [71]  68.85587  59.64594 101.51264  67.41789 121.62704  30.28578  98.42410
##  [78] 104.32883 107.00152  71.02770  81.65876  26.98298 107.29072 123.31338
##  [85] 109.50451  84.50078  35.43017  36.23527  79.61117 102.52218  93.29749
##  [92]  94.12120  39.00050  30.08054  37.87844  42.54243  35.57785  40.60292
##  [99] 100.47654  87.90758  81.64621  94.42308  60.47063  73.19963 104.77086
## [106]  59.54693  34.91945  32.69543  32.12836  45.32101  92.08478  71.04368
## [113]  98.11277  25.73330 105.37354  78.94576  97.60738  80.11518  64.85476
## [120]  75.87840  87.49011  88.40603  70.44997  68.37745  77.25397  72.90456
## [127]  75.31740  42.98286  40.13069  97.64317  84.94165  88.63167  99.10555
## [134]  89.24185  98.84796  91.11405  25.43172  44.04726  89.20228  85.06358
## [141]  26.80988  90.58636  77.13143  91.03786  24.13025  52.44155  27.56799
## [148]  20.53311  72.02729  60.32985  72.40284  50.19506  83.44014</code></pre>
</div>
<div id="mapply" class="section level1">
<h1>mapply</h1>
<p><code>mapply</code> is a multivariate apply (like <code>lapply</code>) that applies a function over a set of arguments.</p>
<pre class="sourceCode r"><code class="sourceCode r"><span class="kw">mapply</span>(range, airQuality[,<span class="kw">c</span>(<span class="dv">1</span>,<span class="dv">3</span>,<span class="dv">6</span>)], <span class="dt">na.rm =</span> <span class="ot">TRUE</span>)
##      Ozone Wind Day
## [1,]     1  1.7   1
## [2,]   168 20.7  31</code></pre>
</div>
<div id="tapply" class="section level1">
<h1>tapply</h1>
<p><code>tapply</code> is used to apply a function over subsets of a vector. It takes two arguements: a vector to apply to function on and a factor variable that subsets the vector. It will simplify the result, like sapply.</p>
<pre class="sourceCode r"><code class="sourceCode r"><span class="kw">tapply</span>(airQuality$Ozone, airQuality$Month, range, <span class="dt">na.rm =</span> <span class="ot">TRUE</span>)
## $Aug
## [1]   9 168
## 
## $Jul
## [1]   7 135
## 
## $Jun
## [1] 12 71
## 
## $May
## [1]   1 115
## 
## $Sep
## [1]  7 96</code></pre>
</div>



<!-- dynamically load mathjax for compatibility with self-contained -->
<script>
  (function () {
    var script = document.createElement("script");
    script.type = "text/javascript";
    script.src  = "https://cdn.mathjax.org/mathjax/latest/MathJax.js?config=TeX-AMS-MML_HTMLorMML";
    document.getElementsByTagName("head")[0].appendChild(script);
  })();
</script>

</body>
</html>
